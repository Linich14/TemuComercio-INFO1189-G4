@namespace WebUI.Components

@using System.ComponentModel.DataAnnotations
@inject NavigationManager Navigation

<EditForm Model="model" OnValidSubmit="HandleValidSubmit" class="space-y-6">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div>
        <label for="rut" class="block mb-1 font-medium">RUT</label>
        <InputText id="rut" @bind-Value="model.Rut" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>
    <div>
        <label for="email" class="block mb-1 font-medium">Correo electrónico</label>
        <InputText id="email" @bind-Value="model.Email" type="email" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>
    <button type="submit" class="ml-9 bg-[#537CF2]  w-64  py-4 rounded-[32px] shadow text-white active:opacity-80 mb-2">Recuperar contraseña</button>
</EditForm>

@code {
    private RecoverModel model = new();

    private void HandleValidSubmit()
    {
        // Aquí iría la lógica de recuperación (no implementada)
        // Simulación: redirigir a login
        Navigation.NavigateTo("/login");
    }

    public class RecoverModel
    {
        [Required(ErrorMessage = "El RUT es obligatorio")]
        public string? Rut { get; set; }
        [Required(ErrorMessage = "El correo es obligatorio")]
        [EmailAddress(ErrorMessage = "Correo inválido")]
        public string? Email { get; set; }
    }
}
