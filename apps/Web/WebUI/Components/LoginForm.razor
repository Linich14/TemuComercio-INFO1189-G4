@namespace WebUI.Components

@using System.ComponentModel.DataAnnotations
@inject NavigationManager Navigation


<EditForm Model="loginModel" OnValidSubmit="HandleValidSubmit" class="space-y-6">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div>
        <label for="rut" class="block mb-1 font-medium">RUT</label>
        <InputText id="rut" @bind-Value="loginModel.Rut" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>
    <div>
        <label for="password" class="block mb-1 font-medium">Contraseña</label>
        <InputText id="password" @bind-Value="loginModel.Password" type="password" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>
    <button type="submit" class="ml-9 bg-[#537CF2]  w-64  py-4 rounded-[32px] shadow text-white active:opacity-80 mb-2">Entrar</button>
    <a  class="w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 transition" href="/welcome">Volver</a>
</EditForm>



@code {
    private LoginModel loginModel = new();

    private void HandleValidSubmit()
    {
        // Aquí iría la lógica de autenticación (no implementada)
        Navigation.NavigateTo("/");
    }

    public class LoginModel
    {
        [Required(ErrorMessage = "El RUT es obligatorio")]
        public string? Rut { get; set; }
        [Required(ErrorMessage = "La contraseña es obligatoria")]
        public string? Password { get; set; }
    }
}
